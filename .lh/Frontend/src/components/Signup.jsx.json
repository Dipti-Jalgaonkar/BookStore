{
    "sourceFile": "Frontend/src/components/Signup.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1729104195411,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1729104195411,
            "name": "Commit-0",
            "content": "import React from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport Login from \"./Login\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\nfunction Signup() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const from = location.state?.from?.pathname || \"/\";\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const onSubmit = async (data) => {\r\n    const userInfo = {\r\n      fullname: data.fullname,\r\n      email: data.email,\r\n      password: data.password,\r\n    };\r\n    await axios\r\n      .post(\"http://localhost:4001/user/signup\", userInfo)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        if (res.data) {\r\n          toast.success(\"Signup Successfully\");\r\n          navigate(from, { replace: true });\r\n        }\r\n        localStorage.setItem(\"Users\", JSON.stringify(res.data.user));\r\n      })\r\n      .catch((err) => {\r\n        if (err.response) {\r\n          console.log(err);\r\n          toast.error(\"Error: \" + err.response.data.message);\r\n        }\r\n      });\r\n  };\r\n  \r\n  return (\r\n    <>\r\n      <div className=\"flex h-screen items-center justify-center\">\r\n        <div className=\" w-[600px] \">\r\n          <div className=\"modal-box\">\r\n            <form onSubmit={handleSubmit(onSubmit)} method=\"dialog\">\r\n              {/* if there is a button in form, it will close the modal */}\r\n              <Link\r\n                to=\"/\"\r\n                className=\"btn btn-sm btn-circle btn-ghost absolute right-2 top-2\"\r\n              >\r\n                âœ•\r\n              </Link>\r\n\r\n              <h3 className=\"font-bold text-lg\">Signup</h3>\r\n              <div className=\"mt-4 space-y-2\">\r\n                <span>Name</span>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Enter your fullname\"\r\n                  className=\"w-80 px-3 py-1 border rounded-md outline-none\"\r\n                  {...register(\"fullname\", { required: true })}\r\n                />\r\n                <br />\r\n                {errors.fullname && (\r\n                  <span className=\"text-sm text-red-500\">\r\n                    This field is required\r\n                  </span>\r\n                )}\r\n              </div>\r\n              {/* Email */}\r\n              <div className=\"mt-4 space-y-2\">\r\n                <span>Email</span>\r\n                <br />\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"Enter your email\"\r\n                  className=\"w-80 px-3 py-1 border rounded-md outline-none\"\r\n                  {...register(\"email\", { required: true })}\r\n                />\r\n                <br />\r\n                {errors.email && (\r\n                  <span className=\"text-sm text-red-500\">\r\n                    This field is required\r\n                  </span>\r\n                )}\r\n              </div>\r\n              {/* Password */}\r\n              <div className=\"mt-4 space-y-2\">\r\n                <span>Password</span>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Enter your password\"\r\n                  className=\"w-80 px-3 py-1 border rounded-md outline-none\"\r\n                  {...register(\"password\", { required: true })}\r\n                />\r\n                <br />\r\n                {errors.password && (\r\n                  <span className=\"text-sm text-red-500\">\r\n                    This field is required\r\n                  </span>\r\n                )}\r\n              </div>\r\n              {/* Button */}\r\n              <div className=\"flex justify-around mt-4\">\r\n                <button className=\"bg-pink-500 text-white rounded-md px-3 py-1 hover:bg-pink-700 duration-200\">\r\n                  Signup\r\n                </button>\r\n                <p className=\"text-xl\">\r\n                  Have account?{\" \"}\r\n                  <button\r\n                    className=\"underline text-blue-500 cursor-pointer\"\r\n                    onClick={() =>\r\n                      document.getElementById(\"my_modal_3\").showModal()\r\n                    }\r\n                  >\r\n                    Login\r\n                  </button>{\" \"}\r\n                  <Login />\r\n                </p>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n"
        }
    ]
}